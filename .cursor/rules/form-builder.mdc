---
description: Manages customizable forms for pastry chefs. Supports two types: product-specific customization forms and shop-wide custom request forms. Each form has dynamic fields with labels, input types, options (including prices), and validation. Enables flexible cake personalization and custom order data collection.
globs:
alwaysApply: false
---

# Form Builder – Customization Forms for Cakes and Custom Requests

## Overview

The platform supports two distinct types of forms:

1. **Product Customization Forms**  
   Linked directly to individual cake products. These forms capture specific customization options for a given cake (e.g., flavor, toppings, size). Each cake product can have its own unique form tailored to its characteristics.

2. **Custom Request Forms**  
   A general form designed by the pastry chef to collect information for fully custom cake requests that do not correspond to any existing product. This form can be edited independently and applies to all custom requests received via the “Request a Custom Cake” feature.

---

## Features

- Support for multiple field types:  
  - Short text  
  - Long text  
  - Number  
  - Single-select dropdown  
  - Multi-select dropdown

- Fields include:  
  - Label (displayed to clients)  
  - Required flag  
  - Display order  
  - Options with optional price additions (for select fields)

- Forms are stored and managed per shop

- Each **product** links to one **product customization form** via `products.form_id`

- The **custom request form** is linked to the shop and used for all custom cake requests

---

## Data Model

- **forms**:  
  - `id`, `shop_id`, `name`  
  - The name distinguishes whether it's a product customization form or the general custom request form

- **form_fields**:  
  - Linked to forms by `form_id`  
  - Define individual fields and their properties (type, label, required, options, order)

---

## User Flow

### For Product Customization

- Chef creates or edits a form specifically for a cake product  
- Client views the cake product page and fills out the linked form  
- Responses are validated and saved with the order  
- Pricing may be adjusted based on selected options with additional costs  

### For Custom Requests

- Chef creates or edits a single custom request form  
- Client accesses the “Request a Custom Cake” page and fills out the custom request form  
- Request data is submitted and reviewed by the chef before quoting and confirming the order  

---

## Benefits

- Flexibility to tailor product-specific customization options  
- A streamlined way to collect detailed info for fully custom cakes  
- Allows optional paid add-ons through pricing in form options  
- Centralizes form management for both types of cake orders  